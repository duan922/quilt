#ifndef __MAX31865_H
#define __MAX31865_H
#include "stm32f10x.h"


/* MAX31865参考电阻 */
#define RREF  430  //400Ω


/* MAX31865控制口 */
#define MAX31865_CONTROL_PORT  GPIOB
#define MAX31865_SDO     GPIO_Pin_4

#define MAX31865_CS1      GPIO_Pin_6   //GPIOD
#define MAX31865_CS2      GPIO_Pin_7   //GPIOD

#define MAX31865_SCLK    GPIO_Pin_3
#define MAX31865_SDI     GPIO_Pin_5
#define MAX31865_DRDY 	 GPIO_Pin_8  

#define MAX31865_CS_SET      GPIO_WriteBit(GPIOD,MAX31865_CS1,Bit_SET)   
#define MAX31865_CS_CLR      GPIO_WriteBit(GPIOD,MAX31865_CS1,Bit_RESET)

#define MAX31865_CS2_SET      GPIO_WriteBit(GPIOD,MAX31865_CS2,Bit_SET)   
#define MAX31865_CS2_CLR      GPIO_WriteBit(GPIOD,MAX31865_CS2,Bit_RESET)

#define MAX31865_SCLK_SET    GPIO_WriteBit(MAX31865_CONTROL_PORT,MAX31865_SCLK,Bit_SET)
#define MAX31865_SCLK_CLR    GPIO_WriteBit(MAX31865_CONTROL_PORT,MAX31865_SCLK,Bit_RESET)
#define MAX31865_SDI_SET     GPIO_WriteBit(MAX31865_CONTROL_PORT,MAX31865_SDI,Bit_SET)
#define MAX31865_SDI_CLR     GPIO_WriteBit(MAX31865_CONTROL_PORT,MAX31865_SDI,Bit_RESET)

#define MAX31865_SDO_READ    GPIO_ReadInputDataBit(MAX31865_CONTROL_PORT,MAX31865_SDO)
#define MAX31865_DRDY_READ   GPIO_ReadInputDataBit(MAX31865_CONTROL_PORT,MAX31865_DRDY)

void MAX31865_Init(void);
void MAX31865_Cfg(void);
float MAX31865_GetTemp(int c);

#endif

